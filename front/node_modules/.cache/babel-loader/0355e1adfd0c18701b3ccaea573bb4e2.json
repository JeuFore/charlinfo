{"ast":null,"code":"var _jsxFileName = \"/Users/jeufore/Documents/charlinfo/front/src/components/user/Connection.jsx\";\nimport React from 'react';\nimport axios from 'axios';\n\nclass Connection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      register: \"responsive-register\",\n      username: \"\",\n      password: \"\",\n      userError: \"\"\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.callAPI = this.callAPI.bind(this);\n  }\n\n  handleInputChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.callAPI();\n  }\n\n  async callAPI() {\n    try {\n      const {\n        data\n      } = await axios.post('http://localhost:9000/user/login', {\n        username: this.state.username,\n        password: this.state.password\n      });\n      console.log(data);\n      window.location.replace(\"/profile\");\n    } catch (error) {\n      this.setState({\n        userError: error.response.data.text\n      });\n    }\n  }\n\n  componentDidMount() {\n    document.title = `Charlinfo | Connexion`;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"d-flex justify-content-center mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, this.state.register === \"responsive-register\" && React.createElement(\"form\", {\n      className: \"p-4 m-5 login-component rainbow bg-success d-flex flex-column justify-content-center\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"mb-3 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Connexion\"), React.createElement(\"div\", {\n      className: \"d-flex flex-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"username\",\n      placeholder: \"Nom d'utilisateur\",\n      onChange: this.handleInputChange,\n      name: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Mot de passe\",\n      onChange: this.handleInputChange,\n      name: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      value: \"Se connecter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"responsive-register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Pas encore inscrit, \", React.createElement(\"a\", {\n      href: \"#register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Go s'inscrire sur Charlinfo\"))), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, this.state.userError), React.createElement(\"form\", {\n      className: `p-4 m-5 login-component rainbow bg-success ${this.state.register}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"mb-3 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Inscription\"), React.createElement(\"div\", {\n      className: \"d-flex flex-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"username\",\n      placeholder: \"Nom d'utilisateur\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"name\",\n      placeholder: \"Nom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"name\",\n      placeholder: \"Pr\\xE9nom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      className: \"form-control m-3 w-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"DUT Informatique\")), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Mot de passe\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      value: \"Se connecter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Connection;","map":{"version":3,"sources":["/Users/jeufore/Documents/charlinfo/front/src/components/user/Connection.jsx"],"names":["React","axios","Connection","Component","constructor","props","state","register","username","password","userError","handleInputChange","bind","handleSubmit","callAPI","event","setState","target","name","value","preventDefault","data","post","console","log","window","location","replace","error","response","text","componentDidMount","document","title","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\nclass Connection extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            register: \"responsive-register\",\n            username: \"\",\n            password: \"\",\n            userError: \"\"\n        };\n\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.callAPI = this.callAPI.bind(this)\n    }\n\n    handleInputChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        this.callAPI();\n    }\n\n    async callAPI() {\n\n        try {\n            const { data } = await axios.post('http://localhost:9000/user/login', {\n                username: this.state.username,\n                password: this.state.password\n            })\n            console.log(data)\n            window.location.replace(\"/profile\")\n        } catch (error) {\n            this.setState({\n                userError: error.response.data.text\n            })\n        }\n    }\n\n    componentDidMount() {\n        document.title = `Charlinfo | Connexion`;\n    }\n    render() {\n        return (\n            <div className=\"d-flex justify-content-center mt-5\">\n                {this.state.register === \"responsive-register\" && (\n                    <form className=\"p-4 m-5 login-component rainbow bg-success d-flex flex-column justify-content-center\" onSubmit={this.handleSubmit}>\n                        <h1 className=\"mb-3 text-center\">Connexion</h1>\n                        <div className=\"d-flex flex-column\">\n                            <input type=\"username\" placeholder=\"Nom d'utilisateur\" onChange={this.handleInputChange} name=\"username\" />\n                            <input type=\"password\" placeholder=\"Mot de passe\" onChange={this.handleInputChange} name=\"password\" />\n                        </div>\n                        <input type=\"submit\" className=\"btn btn-primary\" value=\"Se connecter\" />\n                        <label className=\"responsive-register\">Pas encore inscrit, <a href=\"#register\" >Go s'inscrire sur Charlinfo</a></label>\n                    </form>\n                )}\n\n                <h1>{this.state.userError}</h1>\n\n                <form className={`p-4 m-5 login-component rainbow bg-success ${this.state.register}`}>\n                    <h1 className=\"mb-3 text-center\">Inscription</h1>\n                    <div className=\"d-flex flex-column\">\n                        <input type=\"username\" placeholder=\"Nom d'utilisateur\" />\n                        <input type=\"name\" placeholder=\"Nom\" />\n                        <input type=\"name\" placeholder=\"Prénom\" />\n                        <select className=\"form-control m-3 w-auto\">\n                            <option>DUT Informatique</option>\n                        </select>\n                        <input type=\"password\" placeholder=\"Mot de passe\" />\n                    </div>\n                    <input type=\"submit\" className=\"btn btn-primary\" value=\"Se connecter\" />\n                </form>\n\n            </div>\n        )\n    }\n}\n\nexport default Connection"]},"metadata":{},"sourceType":"module"}